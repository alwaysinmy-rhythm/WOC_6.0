{"ast":null,"code":"import Schedules from './schedules';\nimport Stations from './stations';\nimport Trains from './trains';\nimport TrainsBtwStations from './trainsBtwStations';\nimport Misc from './misc';\n// define how long to wait API response before throwing a timeout error\nconst API_TIMEOUT = 15000;\nconst BASE_URL = 'api.railwayapi.site/api';\nconst API_VRSION = 'v1';\nconst DEFAULT_PROTOCOL = 'https';\nfunction setInstances(client) {\n  client.trains = new Trains(client);\n  client.stations = new Stations(client);\n  client.schedules = new Schedules(client);\n  client.trainsBtwStations = new TrainsBtwStations(client);\n  client.misc = new Misc(client);\n}\nconst prepareParams = (opts, self) => {\n  // const params = _.cloneDeep(opts)\n  const params = {\n    ...opts\n  };\n  params.method = params.method || 'GET';\n  params.json = true;\n  params.resolveWithFullResponse = true;\n  params.url = `${self.protocol}://${self.baseUrl}/${self.apiVersion}`;\n  if (params.path) {\n    params.url = `${params.url}/${params.path}`;\n  }\n  if (params.params) {\n    params.url = `${params.url}/${params.params}`;\n  }\n  params.url = `${params.url}?`;\n  const tempArr = [];\n  for (const key in params.query) {\n    if (Object.prototype.hasOwnProperty.call(params.query, key)) {\n      tempArr.push(`${key}=${params.query[key]}`);\n    }\n  }\n  params.url = params.url + tempArr.join('&');\n  params.timeout = self.apiTimeout;\n  params.headers = {\n    apiKey: self.apiKey\n  };\n  return params;\n};\nexport class Client {\n  #apiCalls = 0;\n  #apiKey;\n  #baseUrl;\n  #apiVersion;\n  #apiTimeout;\n  #protocol;\n  trains;\n  stations;\n  schedules;\n  misc;\n  trainsBtwStations;\n  constructor(options = {}) {\n    this.#apiKey = options.API_KEY || null;\n    this.#baseUrl = options.BASE_URL || BASE_URL;\n    this.#apiVersion = options.API_VERSION || API_VRSION;\n    this.#apiTimeout = options.API_TIMEOUT || API_TIMEOUT;\n    this.#protocol = options.PROTOCOL || DEFAULT_PROTOCOL;\n    setInstances(this);\n  }\n  get apiCalls() {\n    return this.#apiCalls;\n  }\n  get apiKey() {\n    return this.#apiKey;\n  }\n  get baseUrl() {\n    return this.#baseUrl;\n  }\n  get apiVersion() {\n    return this.#apiVersion;\n  }\n  get apiTimeout() {\n    return this.#apiTimeout;\n  }\n  get protocol() {\n    return this.#protocol;\n  }\n  // setApiKey(apiKey: string) {\n  //   this.#apiKey = apiKey\n  //   return this.#apiKey\n  // }\n  async apiRequest(opts) {\n    const params = prepareParams(opts, this);\n    const res = await fetch(params.url, {\n      method: params.method,\n      headers: params.headers\n    });\n    const json = await res.json();\n    if (res.ok) {\n      this.#apiCalls++;\n    }\n    const data = {\n      httpStatusCode: res.status,\n      httpStatusText: res.statusText,\n      responseType: res.type,\n      ok: res.ok,\n      // ok: function(data): data is T[] ,\n      url: res.url,\n      responseHeaders: res.headers,\n      // data: res.ok ? json.data as T[] : [] as T[],\n      data: json.data,\n      extra: res.ok ? json.extra : {},\n      errors: json.errors,\n      raw: json\n    };\n    return data;\n  }\n}\nexport function isOk(apiResponse) {\n  return apiResponse.ok === true;\n}\nexport function isError(apiResponse) {\n  return apiResponse.ok === true;\n}\nexport default Client;","map":{"version":3,"names":["Schedules","Stations","Trains","TrainsBtwStations","Misc","API_TIMEOUT","BASE_URL","API_VRSION","DEFAULT_PROTOCOL","setInstances","client","trains","stations","schedules","trainsBtwStations","misc","prepareParams","opts","self","params","method","json","resolveWithFullResponse","url","protocol","baseUrl","apiVersion","path","tempArr","key","query","Object","prototype","hasOwnProperty","call","push","join","timeout","apiTimeout","headers","apiKey","Client","apiCalls","constructor","options","API_KEY","API_VERSION","PROTOCOL","apiRequest","res","fetch","ok","data","httpStatusCode","status","httpStatusText","statusText","responseType","type","responseHeaders","extra","errors","raw","isOk","apiResponse","isError"],"sources":["C:/Users/rdhmp/OneDrive/Desktop/Projects/IRCTC WOC/irctc/node_modules/api-railway/lib/esm/index.mjs"],"sourcesContent":["import Schedules from './schedules';\nimport Stations from './stations';\nimport Trains from './trains';\nimport TrainsBtwStations from './trainsBtwStations';\nimport Misc from './misc';\n// define how long to wait API response before throwing a timeout error\nconst API_TIMEOUT = 15000;\nconst BASE_URL = 'api.railwayapi.site/api';\nconst API_VRSION = 'v1';\nconst DEFAULT_PROTOCOL = 'https';\nfunction setInstances(client) {\n    client.trains = new Trains(client);\n    client.stations = new Stations(client);\n    client.schedules = new Schedules(client);\n    client.trainsBtwStations = new TrainsBtwStations(client);\n    client.misc = new Misc(client);\n}\nconst prepareParams = (opts, self) => {\n    // const params = _.cloneDeep(opts)\n    const params = { ...opts };\n    params.method = params.method || 'GET';\n    params.json = true;\n    params.resolveWithFullResponse = true;\n    params.url = `${self.protocol}://${self.baseUrl}/${self.apiVersion}`;\n    if (params.path) {\n        params.url = `${params.url}/${params.path}`;\n    }\n    if (params.params) {\n        params.url = `${params.url}/${params.params}`;\n    }\n    params.url = `${params.url}?`;\n    const tempArr = [];\n    for (const key in params.query) {\n        if (Object.prototype.hasOwnProperty.call(params.query, key)) {\n            tempArr.push(`${key}=${params.query[key]}`);\n        }\n    }\n    params.url = params.url + tempArr.join('&');\n    params.timeout = self.apiTimeout;\n    params.headers = {\n        apiKey: self.apiKey,\n    };\n    return params;\n};\nexport class Client {\n    #apiCalls = 0;\n    #apiKey;\n    #baseUrl;\n    #apiVersion;\n    #apiTimeout;\n    #protocol;\n    trains;\n    stations;\n    schedules;\n    misc;\n    trainsBtwStations;\n    constructor(options = {}) {\n        this.#apiKey = options.API_KEY || null;\n        this.#baseUrl = options.BASE_URL || BASE_URL;\n        this.#apiVersion = options.API_VERSION || API_VRSION;\n        this.#apiTimeout = options.API_TIMEOUT || API_TIMEOUT;\n        this.#protocol = options.PROTOCOL || DEFAULT_PROTOCOL;\n        setInstances(this);\n    }\n    get apiCalls() {\n        return this.#apiCalls;\n    }\n    get apiKey() {\n        return this.#apiKey;\n    }\n    get baseUrl() {\n        return this.#baseUrl;\n    }\n    get apiVersion() {\n        return this.#apiVersion;\n    }\n    get apiTimeout() {\n        return this.#apiTimeout;\n    }\n    get protocol() {\n        return this.#protocol;\n    }\n    // setApiKey(apiKey: string) {\n    //   this.#apiKey = apiKey\n    //   return this.#apiKey\n    // }\n    async apiRequest(opts) {\n        const params = prepareParams(opts, this);\n        const res = await fetch(params.url, {\n            method: params.method,\n            headers: params.headers,\n        });\n        const json = await res.json();\n        if (res.ok) {\n            this.#apiCalls++;\n        }\n        const data = {\n            httpStatusCode: res.status,\n            httpStatusText: res.statusText,\n            responseType: res.type,\n            ok: res.ok,\n            // ok: function(data): data is T[] ,\n            url: res.url,\n            responseHeaders: res.headers,\n            // data: res.ok ? json.data as T[] : [] as T[],\n            data: json.data,\n            extra: res.ok ? json.extra : {},\n            errors: json.errors,\n            raw: json,\n        };\n        return data;\n    }\n}\nexport function isOk(apiResponse) {\n    return apiResponse.ok === true;\n}\nexport function isError(apiResponse) {\n    return apiResponse.ok === true;\n}\nexport default Client;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}