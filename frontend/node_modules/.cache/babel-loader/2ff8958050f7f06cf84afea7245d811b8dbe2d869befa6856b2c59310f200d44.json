{"ast":null,"code":"import React,{useState,useEffect}from'react';import Navbar from'./Navbar';import'./Navbar_style.css';import'./AccountPage.css';import axios from'axios';import Cookies from'js-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const AccountPage=()=>{const[userdetails,setdata]=useState([]);const userEmail=Cookies.get('email');useEffect(()=>{axios.get(\"http://localhost:3001/user/\".concat(userEmail)).then(res=>{console.log(res.data);setdata(res.data);}).catch(err=>{console.error('Failed to fetch data',err);});},[userEmail]);// whenever userEmail changes this hook will run to fetch the details. \nconst handleChange=e=>{setdata({...userdetails,[e.target.name]:e.target.value});// userdetails destructured to array elements and name and value updated.\n};const handleupdate=async e=>{e.preventDefault();let FirstName=userdetails.FirstName;// console.log(FirstName);\naxios.post('http://localhost:3001/update_profile',{userdetails}).then(res=>{console.log('user data update successfully');alert('Upadated Successfully');console.log(res.data);}).catch(err=>{console.log('some error in data updation');console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"account-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"USER DETAILS\"}),/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",onSubmit:handleupdate,id:\"LoginForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputGrp\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\",name:\"FirstName\",value:userdetails.FirstName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGrp\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\",name:\"LastName\",value:userdetails.LastName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGrp\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"abc@gmail.com\",name:\"EmailId\",value:userdetails.EmailId,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGrp\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"Password\",placeholder:\"Password\",name:\"Password\",value:userdetails.Password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGrp\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"gender\",name:\"Gender\",value:userdetails.Gender,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NOTA\",children:\"Prefer not to Say\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGrp\",id:\"addinput\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"address\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Street\",name:\"Add_street\",value:userdetails.Add_street,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"City\",name:\"Add_city\",value:userdetails.Add_city,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"State\",name:\"Add_state\",value:userdetails.Add_state,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Zip Code\",name:\"Add_zip\",value:userdetails.Add_zip,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputGrp\",children:/*#__PURE__*/_jsx(\"button\",{id:\"submit\",type:\"submit\",children:\"Update\"})})]})]})]});};export default AccountPage;","map":{"version":3,"names":["React","useState","useEffect","Navbar","axios","Cookies","jsx","_jsx","jsxs","_jsxs","AccountPage","userdetails","setdata","userEmail","get","concat","then","res","console","log","data","catch","err","error","handleChange","e","target","name","value","handleupdate","preventDefault","FirstName","post","alert","children","className","method","onSubmit","id","type","placeholder","onChange","LastName","EmailId","Password","Gender","Add_street","Add_city","Add_state","Add_zip"],"sources":["C:/Users/rdhmp/OneDrive/Desktop/Projects/IRCTC WOC/irctc/src/pages/AccountPage.jsx"],"sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport Navbar from './Navbar';\r\nimport './Navbar_style.css';\r\nimport './AccountPage.css';\r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport const AccountPage = () => {\r\n\t\r\n\tconst [userdetails, setdata] = useState([]);\r\n\tconst userEmail = Cookies.get('email'); \r\n\tuseEffect(()=>{\r\n\r\n\t\taxios.get(`http://localhost:3001/user/${userEmail}`)\r\n\t\t\t.then(res =>{\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tsetdata(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(err=>{\r\n\t\t\t\tconsole.error('Failed to fetch data', err);\r\n\t\t\t})\r\n\t\t\r\n\t}, [userEmail]) // whenever userEmail changes this hook will run to fetch the details. \r\n\t\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetdata({ ...userdetails, [e.target.name]: e.target.value }); // userdetails destructured to array elements and name and value updated.\r\n\t};\r\n\r\n\tconst handleupdate = async (e)=>{\r\n\t\te.preventDefault();\r\n\t\tlet FirstName = userdetails.FirstName ;  \r\n\t\t// console.log(FirstName);\r\n\t\taxios.post('http://localhost:3001/update_profile' ,{userdetails} )\r\n\t\t\t.then(res=>{\r\n\t\t\t\tconsole.log('user data update successfully');\r\n\t\t\t\talert('Upadated Successfully');\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch(err=>{\r\n\t\t\t\tconsole.log('some error in data updation');\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"account-container\">\r\n\t\t\t\t<h2>USER DETAILS</h2>\r\n\r\n\t\t\t\t<form method='POST'  onSubmit={handleupdate} id='LoginForm'>\r\n\t\t\t\t\t<div className='inputGrp'>\r\n\t\t\t\t\t\t<span>First Name</span><input type=\"text\" placeholder='' name='FirstName' value={userdetails.FirstName} onChange={handleChange}/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='inputGrp'>\r\n\t\t\t\t\t\t<span>Last Name</span><input type=\"text\" placeholder='' name='LastName' value={userdetails.LastName}  onChange={handleChange}/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='inputGrp'>\r\n\t\t\t\t\t\t<span>Email ID</span><input type='email' placeholder='abc@gmail.com' name='EmailId' value={userdetails.EmailId} onChange={handleChange} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='inputGrp'>\r\n\t\t\t\t\t\t<span>Password</span><input type=\"Password\" placeholder='Password' name='Password' value={userdetails.Password} onChange={handleChange}/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{/* <div className='inputGrp'>\r\n\t\t\t\t\t\t<span>Birth Date</span><input type=\"Date\" name='Birthdate' onChange={(e)=>setBdate(e.target.value)}/>\r\n\t\t\t\t\t</div> */}\r\n\r\n\t\t\t\t\t<div className='inputGrp'>\r\n\t\t\t\t\t\t<span>Gender</span>\r\n\t\t\t\t\t\t<select id=\"gender\" name=\"Gender\" value={userdetails.Gender} onChange={handleChange}>\r\n\t\t\t\t\t\t\t<option value=\"Male\">Male</option>\r\n\t\t\t\t\t\t\t<option value=\"Female\">Female</option>\r\n\t\t\t\t\t\t\t<option value=\"Other\">Other</option>\r\n\t\t\t\t\t\t\t<option value=\"NOTA\">Prefer not to Say</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='inputGrp' id='addinput'>\r\n\t\t\t\t\t\t<span id='address'>Address</span>\r\n\r\n\t\t\t\t\t\t<input type=\"text\" placeholder='Street' name='Add_street' value={userdetails.Add_street} onChange={handleChange}/>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder='City' name='Add_city' value={userdetails.Add_city} onChange={handleChange}/>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder='State' name='Add_state' value={userdetails.Add_state} onChange={handleChange}/>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder='Zip Code' name='Add_zip' value={userdetails.Add_zip}  onChange={handleChange}/>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='inputGrp'>\r\n\t\t\t\t\t\t<button id='submit' type='submit'>Update</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default AccountPage; \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}