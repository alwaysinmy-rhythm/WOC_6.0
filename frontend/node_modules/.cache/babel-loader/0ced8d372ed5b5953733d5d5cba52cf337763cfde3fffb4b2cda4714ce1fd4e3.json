{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useLocation}from'react-router-dom';import'./Booking.css';import axios from'axios';import Cookies from'js-cookie';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const Booking=()=>{const location=useLocation();const[userdetails,setdata]=useState([]);const userEmail=Cookies.get('email');useEffect(()=>{axios.get(\"http://localhost:3001/user/\".concat(userEmail)).then(res=>{console.log(res.data);setdata(res.data);}).catch(err=>{console.error('Failed to fetch data',err);});console.log(userdetails);},[userEmail]);console.log(location.state);const FareData=location.state.faredata;const TrainData=location.state.traindata;console.log(location.state.faredata);console.log(location.state.traindata);const handlepayment=()=>{alert(\"Payment Section is under maintenance\");};return/*#__PURE__*/_jsx(\"div\",{id:\"body\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"Bill\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"bill_element\",children:[\"Name : \",userdetails.FirstName,\" \",userdetails.LastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"bill_element\",children:[\"Email Id : \",userdetails.EmailId,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"bill_element\",children:[\"Train Name : \",TrainData.train_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"bill_element\",children:[\"Train No. : \",TrainData.train_number]}),/*#__PURE__*/_jsxs(\"p\",{className:\"bill_element\",children:[\"From  : \",TrainData.from_station_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"bill_element\",children:[\"To  : \",TrainData.to_station_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"bill_element\",children:[\"Amount : \",FareData.general[0].fare]}),/*#__PURE__*/_jsx(\"button\",{id:\"payme\",onClick:handlepayment,children:\" Pay\"})]})});};export default Booking;","map":{"version":3,"names":["React","useEffect","useState","useLocation","axios","Cookies","jsxs","_jsxs","jsx","_jsx","Booking","location","userdetails","setdata","userEmail","get","concat","then","res","console","log","data","catch","err","error","state","FareData","faredata","TrainData","traindata","handlepayment","alert","id","children","className","FirstName","LastName","EmailId","train_name","train_number","from_station_name","to_station_name","general","fare","onClick"],"sources":["C:/Users/rdhmp/OneDrive/Desktop/Projects/IRCTC WOC/irctc/src/pages/Booking.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { useLocation } from 'react-router-dom';\r\nimport './Booking.css'; \r\nimport axios from 'axios';\r\nimport Cookies from 'js-cookie'\r\n\r\n\r\nconst Booking = () => {\r\n    const location = useLocation() ;\r\n    const [userdetails, setdata] = useState([]);\r\n    const userEmail = Cookies.get('email'); \r\n\r\n    useEffect(()=>{\r\n\r\n      axios.get(`http://localhost:3001/user/${userEmail}`)\r\n        .then(res =>{\r\n          console.log(res.data);\r\n          setdata(res.data);\r\n        })\r\n        .catch(err=>{\r\n          console.error('Failed to fetch data', err);\r\n        })\r\n      \r\n        console.log(userdetails);\r\n    }, [userEmail])\r\n\r\n    \r\n    console.log(location.state) ;\r\n    const FareData = location.state.faredata ; \r\n    const TrainData = location.state.traindata ; \r\n\r\n    console.log(location.state.faredata) ;\r\n    console.log(location.state.traindata) ;\r\n     \r\n\r\n    const handlepayment = ()=>{\r\n      alert(\"Payment Section is under maintenance\")\r\n    }\r\n  return (\r\n    <div id='body'>\r\n        <div id='Bill'>\r\n            <p className='bill_element'>Name : {userdetails.FirstName} {userdetails.LastName}</p>\r\n            <p className='bill_element'>Email Id : {userdetails.EmailId} </p>\r\n            <p className='bill_element'>Train Name : {TrainData.train_name}</p>\r\n            <p className='bill_element'>Train No. : {TrainData.train_number}</p>\r\n            <p className='bill_element'>From  : {TrainData.from_station_name}</p>\r\n            <p className='bill_element'>To  : {TrainData.to_station_name}</p>\r\n            <p className='bill_element'>Amount : {FareData.general[0].fare}</p>\r\n            <button id='payme' onClick = {handlepayment}> Pay</button>\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Booking"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}